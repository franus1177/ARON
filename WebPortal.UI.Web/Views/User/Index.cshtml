@using WebPortal.UI.Web.GlobalResource;
@using System.Web.Configuration;
@using WebPortal.Common.Utilities.Helpers;
@{
    var jq = WebConfigurationManager.AppSettings["jqueryVersionUpdate"].ToString();
    ViewBag.Title = Resource.User;
    Layout = "~/Views/Shared/_Layout_BS.cshtml";
}

<link rel="stylesheet" href="~/assets/css/chosen.min.css?@jq" />
<script src="~/assets/js/chosen.jquery.min.js?@jq"></script>
<div class="breadcrumbs ace-save-state" id="breadcrumbs">
    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a id="HomebreadcrumbURL" href="#">@Resource.Home</a>
        </li>
        <li><a href="#">@Resource.UserSetting</a></li>
        <li class="active"><a href="/User/Index/@ViewBag.EncryptScreenID" class="active">@Resource.User</a> </li>
    </ul>
    <div class="pull-right">
        <span id="divExport" style="display:none;" class="dt-buttons btn-overlap btn-group">
            <a id="btnExportToExcel" href="#" style="margin-right: 9px !important;color:black;" class="dt-button buttons-excel" tabindex="0" aria-controls="dynamic-table" onclick="ExportToExcelGrid('#tblGrid','excel');">
                <i style="font-size: 20px !important;color: green;" class="fa fa-file-excel-o bigger-110" title="@Resource.ExportToExcel"></i> <span class="hidden">@Resource.ExportToExcel</span>
            </a>
        </span>&nbsp;&nbsp;
        <span id="divAdd" class="pull-right" title="@Resource.Add"></span>
    </div>
</div>

<div class="page-content">
    <div class="row">
        <div class="col-md-7 col-xs-12" id="divGridUser">
            <div id="dtRole_wrapper" class="form-inline dt-bootstrap no-footer">
                <!-- div.table-responsive -->
                <!-- div.dataTables_borderWrap -->
                <table class="table table-striped table-bordered table-hover dataTable no-footer" id="tblGrid" role="grid">
                    <template>
                        @Resource.User
                    </template>
                    <thead>
                        <tr role="row">
                            <th class="col-lg-3 col-xs-3">@Resource.FullName</th>
                            <th class="col-lg-1 col-xs-1">@Resource.LoginName</th>
                            <th class="col-lg-1 col-xs-1">@Resource.Gender</th>
                            <th class="col-lg-3 col-xs-3">@Resource.Email</th>
                            <th class="col-lg-2 col-xs-2">@Resource.UserRole</th>
                            <th class="col-lg-1 col-xs-1 UserLocationColumn sorting_disabled">@Resource.Location</th>
                            <th class="col-lg-1 col-xs-1 DeleteColumn sorting_disabled"></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <!-- /.table-responsive -->
        </div>
        <div id="Master_Form" class="col-md-5 col-xs-12" style="display: none"></div>
    </div>
</div><!-- /.page-content -->
<!-- page specific plugin scripts -->
@section Scripts{
    <script id="Grid_Data_Template_tblGrid" type="text/x-jquery-tmpl">
        <tr id="tr${EndUserID}" data-id="${EndUserID}" UserRoleID="${UserRoleID}">
            <td align="left" style="cursor:pointer;" class="HasUpdatetds" onclick="user.GetDataByID(xhr_getData_For_Edit, ${EndUserID});" title="@Resource.Edit">
                <a href="#">${Name}</a>
            </td>
            <td align="left">${LoginID}</td>
            <td align="center">${Gender}</td>
            <td align="left">${EmailID}</td>
            <td align="left">${UserRoleName}</td>
            <td align="center" class="UserLocationColumn">
                {{if UserRoleID != 2}}
                <span id="spanUserLocation${EndUserID}" class="fa fa-map-marker fa-2x Ulocation" style="cursor:pointer;" onclick='UserLocation.SetForUserLocation(xhr_getData_For_Edit,${EndUserID},"${Name}")'></span>
                {{/if}}
            </td>
            <td align="center" class="DeleteColumn" title="@Resource.Delete">
                <span class="fa fa-trash fa-2x DeleteIcon" onclick='user.Delete(${EndUserID},"${Name}")'></span>
            </td>
        </tr>
    </script>


    <script id="Grid_Data_Template_tblAssignedCustomer" type="text/x-jquery-tmpl">
        <tr id="tr${CustomerID}" data-id="${CustomerID}">
            <td>${CustomerName}</td>
        </tr>
    </script>

    <script type="text/javascript">

        var scrnID = @ViewBag.screenID;
        var AddLocation = "@Resource.Add";
        var EditLocation = "@Resource.Edit";
        var AddNewUser = "@Resource.Add";
        var EditUser = "@Resource.Edit";
        var ConfirmPasswordMissMatch = "@Resource.ConfirmPasswordMissMatch";
        var DeleteConfMessage = "@Resource.DeleteConfMessage";
        var DeleteConfMessage = "@Resource.DeleteConfMessage";
        var YesText = "@Resource.Yes";
        var NoText = "@Resource.No";
        var ChangeParentLocationText = "@Resource.ChangeParentLocation";
        var ExpandAllText = "@Resource.ExpandAll";
        var CollapseAllText = "@Resource.CollapseAll";
        var NorecordsavailableMessage = "@Resource.Norecordsavailable";
        var hasCustomerTooltipMessage = "@Resource.HasCustomerTooltip";
        var LocationNameExist = "@Resource.LocationNameExist";
        var locationID = null;

    </script>
    <script src="~/Scripts/User.js?@jq"></script>
}